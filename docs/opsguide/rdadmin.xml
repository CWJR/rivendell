<chapter xmlns="http://docbook.org/ns/docbook" xml:id="chapter.rdadmin">
  <title>Configuring Rivendell with RDAdmin</title>
  <sect1 xml:id="sect.rdadmin.overview">
    <title>Overview</title>
    <para>
      RDAdmin is the Rivendell module designed for the comprehensive
      configuration of the Rivendell system.
    </para>
    <para>
      <mediaobject>
	<imageobject>
	  <imagedata align="center" fileref="rdadmin.rdadmin_screenshot.png" scale="45"/>
	</imageobject>
	<caption>
	  <para>The RDAdmin Main Window</para>
	</caption>
      </mediaobject>
    </para>
    <para>
      When starting up RDAdmin, you will be prompted to login in. For a
      freshly created Rivendell database, the default login parameters are
      a <computeroutput>User Name:</computeroutput> of
      <userinput>admin</userinput> with no
      <computeroutput>Password:</computeroutput>.
    </para>
    <para>
      <mediaobject>
	<imageobject>
	  <imagedata align="center" fileref="rdadmin.login_dialog.png" scale="45"/>
	</imageobject>
	<caption>
	  <para>The Login Dialog</para>
	</caption>
      </mediaobject>
    </para>
  </sect1>
  <sect1 xml:id="sect.rdadmin.managing_users">
    <title>Managing Users</title>
    <para>
      To manage users in RDAdmin, touch the
      <computeroutput>Manage Users</computeroutput> to open the
      Rivendell User List dialog.
    </para>
    <para>
      <mediaobject>
	<imageobject>
	  <imagedata align="center" fileref="rdadmin.rivendell_user_list_dialog.png" scale="45"/>
	</imageobject>
	<caption>
	  <para>The Rivendell User List Dialog</para>
	</caption>
      </mediaobject>
    </para>
    <para>
      Two different types of user exist within Rivendell: 
      <emphasis>administrator</emphasis> users (those which have the
      <computeroutput>Administer System</computeroutput> right set), who
      are allowed to log into RDAdmin, and
      <emphasis>operational</emphasis> users, who are configured to have
      rights to operate specific portions of the Rivendell system but do
      not have access to RDAdmin. It is not possible for a single user to
      act in both roles.
    </para>
    <para>
      A newly created Rivendell database will have one user of each type
      populated automatically, called &quot;admin&quot; and
      &quot;user&quot; respectively. To see the attributes of an existing
      user, select its entry on the <computeroutput>Users</computeroutput>
      list and touch the <computeroutput>Edit</computeroutput> button to
      open the User Dialog.
    </para>
    <para>
      <mediaobject>
	<imageobject>
	  <imagedata align="center" fileref="rdadmin.user_dialog.png" scale="45"/>
	</imageobject>
	<caption>
	  <para>The Rivendell User Dialog</para>
	</caption>
      </mediaobject>
    </para>
    <para>
      The upper third of the the dialog provides fields for basic information
      regarding the user as well as authentication settings. If the
      <computeroutput>Authenticate This User Locally</computeroutput> box
      is ticked, then the login password for this user can be set by touching
      the <computeroutput>Change Password</computeroutput> button. If
      unticked, then authentication is delegated to the Pluggable
      Authentication Module (PAM) specified in the
      <computeroutput>PAM Service:</computeroutput> field.
    </para>
    <para>
      The <computeroutput>WebAPI Timeout:</computeroutput> field sets the
      timeout (in seconds) when connecting to Rivendell's WebAPI
      component, while the <computeroutput>Allow Web Logins</computeroutput>
      box, if ticked, permits this user to use the web component of
      RDCastManager.
    </para>
    <para>
      The middle section of the dialog is where individual user rights
      are assigned for this user. The
      <computeroutput>Administer System</computeroutput> box, if ticked,
      will make this user an administrative user while disallowing the
      selection of any other rights. The other listed rights should be
      self-explanatory.
    </para>
    <para>
      The bottom of the dialog contains three large buttons. The
      <computeroutput>Assign Group Permissions</computeroutput> button
      allows assignment of the specific groups which this user will be
      allowed to access in RDLibrary, 
      the <computeroutput>Service Permissions</computeroutput> allows
      assignment of the services which this user will be allowed to
      access in RDLogEdit and the
      <computeroutput>Assign Podcast Feed Permissions</computeroutput>
      allows the assignment of the podcast feeds which this user will
      be allowed to manage in RDCastManager.
    </para>
    <para>
      Touch the <computeroutput>OK</computeroutput> button to commit any
      changes made, or <computeroutput>Cancel</computeroutput> to
      abandon them.
    </para>
  </sect1>
  <sect1 xml:id="sect.rdadmin.manage_groups">
    <title>Managing Groups</title>
    <para>
      To manage groups in RDAdmin, touch the
      <computeroutput>Manage Groups</computeroutput> button to open
      the Rivendell Group List dialog.
    </para>
    <para>
      <mediaobject>
	<imageobject>
	  <imagedata align="center" fileref="rdadmin.rivendell_group_list_dialog.png" scale="45"/>
	</imageobject>
	<caption>
	  <para>The Rivendell Group List Dialog</para>
	</caption>
      </mediaobject>
    </para>
    <sect2 xml:id="sect.rdadmin.manage_groups.editing_group_information">
      <title>Editing Group Information</title>
      <para>
	To examine and modify an existing group, touch its entry in the
	<computeroutput>Groups</computeroutput> list and then touch the
	<computeroutput>Edit</computeroutput> button to open the
	Group Dialog.
      </para>
      <para>
	<mediaobject>
	  <imageobject>
	    <imagedata align="center" fileref="rdadmin.group_dialog.png" scale="45"/>
	  </imageobject>
	  <caption>
	    <para>The Rivendell Group Dialog</para>
	  </caption>
	</mediaobject>
      </para>
      <para>
	The <computeroutput>Default Import Title</computeroutput> is the
	title string that will be assigned to carts created by dropboxes or
	<command>rdimport</command><manvolnum>1</manvolnum> when no 
	file-specific title metadata is found. This field recognizes
	the following wildcards:
      </para>
      <table xml:id="table.rdadmin.default_import_title_wildcards" frame="all" pgwide="0">
	<title>Default Import Title Wildcards</title>
	<tgroup cols="2" align="left" colsep="1" rowsep="1">
	  <colspec colname="Wildcard" colwidth="1.0*"/>
	  <colspec colname="Value" colwidth="10.0*"/>
	  <tbody>
	    <row><entry>%f</entry><entry>Body part of the filename</entry></row>
	    <row><entry>%e</entry><entry>Extension part of the filename</entry></row>
	  </tbody>
	</tgroup>
      </table>
      <para>
	The <computeroutput>Default Cart Type:</computeroutput> controls
	which type of cart (<computeroutput>Audio</computeroutput> or
	<computeroutput>Macro</computeroutput> RDLibrary will default to
	when creating a new cart in this group.
      </para>
      <para>
	The <computeroutput>Default Cart Number:</computeroutput> fields
	define a range of cart numbers to use by default for this group
	--i.e. by RDLibrary or
	<command>rdimport</command><manvolnum>1</manvolnum>. If the
	<computeroutput>Enforce Cart Range</computeroutput> box is ticked,
	Rivendell will not permit carts to be created in or moved to this
	group whose cart number does not fall within this range.
      </para>
      <para>
	If the 
	<computeroutput>Include this group in Traffic reports</computeroutput> or
	<computeroutput>Include this group in Music reports</computeroutput> box
	is ticked, play-outs of carts belonging to this group in a log will
	be included in traffic or music reports, respectively.
      </para>
      <para>
	If this <computeroutput>Set End Date/Time</computeroutput> box is ticked,
	then new cuts that belong to this group will have their end date/time
	automatically set to the specified number of days after the date of
	creation.
      </para>
      <para>
	If the <computeroutput>Purge expired cuts</computeroutput> box is
	ticked, then cuts in the group will be purged --i.e. deleted --
	the specified number of days after they expire. If
	<computeroutput>Delete cart if empty</computeroutput> is also ticked,
	then the cart containing the deleted cut will also be deleted if it
	contains no other cuts.
      </para>
      <para>
	If the <computeroutput>Transmit Now &apos; Next</computeroutput> box
	is ticked, then carts in this group will generate an RLM event when
	played in a log.
      </para>
      <para>
	Carts in this group will be allowed to play only on those services
	that are shown in the <computeroutput>Active Services</computeroutput>
	list.
      </para>
      <para>
	To set a color for the group (used when the group name is displayed
	elsewhere in Rivendell, touch the <computeroutput>Color</computeroutput>
	button.
      </para>
      <para>
	Touch the <computeroutput>OK</computeroutput> button to commit any
	changes made, or <computeroutput>Cancel</computeroutput> to
	abandon them.
      </para>
    </sect2>
    <sect2 xml:id="rdadmin.manage_groups.renaming_groups">
      <title>Renaming Groups</title>
      <para>
	A group can be renamed by touching the
	<computeroutput>Rename</computeroutput> button. If the
	<computeroutput>New Group Name:</computeroutput> given already exists,
	then the carts in this group will be moved into that group.
      </para>
      <para>
	<mediaobject>
	  <imageobject>
	    <imagedata align="center" fileref="rdadmin.rename_group_dialog.png" scale="60"/>
	  </imageobject>
	  <caption>
	    <para>The Rename Group Dialog</para>
	  </caption>
	</mediaobject>
      </para>
    </sect2>
    <sect2 xml:id="rdadmin.manage_groups.group_reports">
      <title>Group Report</title>
      <para>
	A printable report listing the defined groups and their attributes
	can be generated by touching the
	<computeroutput>Generate Report</computeroutput> button.
      </para>
    </sect2>
  </sect1>
  <sect1 xml:id="sect.rdadmin.manage_services">
    <title>Managing Services</title>
    <para>
      To manage services in RDAdmin, touch the
      <computeroutput>Manage Services</computeroutput> button to open
      the Rivendell Services dialog.
    </para>
    <para>
      <mediaobject>
	<imageobject>
	  <imagedata align="center" fileref="rdadmin.services_dialog.png" scale="45"/>
	</imageobject>
	<caption>
	  <para>The Rivendell Services Dialog</para>
	</caption>
      </mediaobject>
    </para>
    <para>
      To examine and modify an existing service, touch its entry in the
      <computeroutput>Services</computeroutput> list and then touch the
      <computeroutput>Edit</computeroutput> button to open the
      Edit Service Dialog.
    </para>
    <para>
      <mediaobject>
	<imageobject>
	  <imagedata align="center" fileref="rdadmin.edit_service_dialog.png" scale="45"/>
	</imageobject>
	<caption>
	  <para>The Edit Service Dialog</para>
	</caption>
      </mediaobject>
    </para>
    <sect2 xml:id="sect.rdadmin.manage_services.general">
      <title>The <computeroutput>General</computeroutput> Section</title>
      <para>
	The <computeroutput>Service Name</computeroutput> field contains
	the name of the service (read-only). This value is available in
	<link linkend="sect.filepath_wildcards.definition">
	filepath wildcards</link> as <userinput>%s</userinput>.
      </para>
      <para>
	The <computeroutput>Service Description</computeroutput> field is
	for a free-form string that describes the service.
      </para>
      <para>
	The <computeroutput>Program Code</computeroutput> is a string that
	is sent to RLM plug-ins as part of every Now &amp; Next update.
      </para>
      <para>
	The <computeroutput>Log Name Template</computeroutput> field is
	a string that defines how logs will be named when generated by
	RDLogManager. This field can take
	<link linkend="sect.filepath_wildcards.definition">
	filepath wildcards</link>.
      </para>
      <para>
	The <computeroutput>Log Description Template</computeroutput> field
	is a string that defines how the
	<computeroutput>Description</computeroutput> for each log will be
	formatted for logs generated by RDLogManager. This field can take
	<link linkend="sect.filepath_wildcards.definition">
	filepath wildcards</link>.
      </para>
      <para>
	The <computeroutput>Voicetrack Group</computeroutput> dropdown
	specifies the Rivendell group to be used for storing voicetracks
	for this service.
      </para>
      <para>
	<!--
	    FIXME: Document AutoSpot!
	-->
	The <computeroutput>AutoSpot Group</computeroutput> dropdown
	specifies the Rivendell group to be used for storing carts used
	for the AutoSpot functionality.
      </para>
      <para>
	The <computeroutput>Insert CHAIN TO at log end</computeroutput>,
	if ticked, will cause a CHAIN-TO event to the following day's log
	to be appended to the log when generated by RDLogManager.
      </para>
      <para>
	The <computeroutput>Enable AutoRefresh By Default</computeroutput>
	box, if ticked, will cause the log's
	<computeroutput>Enable AutoRefresh</computeroutput> attribute to
	be set to <computeroutput>Yes</computeroutput> when generated
	by RDLogManager.
      </para>
      <para>
	The <computeroutput>Purge Logs after</computeroutput> box,
	if ticked, will set the deletion date for logs to be the
	specified number of days after being created by RDLogManager.
      </para>
      <para>
	The <computeroutput>Purge ELR Data after</computeroutput>
	box, if ticked, will cause Electronic Log Reconiliation (ELR)
	as-played data to be purged from the database the specified number
	of days after being generated.
      </para>
      <sect3 xml:id="sect.rdadmin.manage_services.general.configure_autofill_carts">
	<title>Configuring Autofill Carts</title>
	<para>
	  The <computeroutput>Configure Autofill Carts</computeroutput>
	  button will bring up the Autofill Carts dialog>
	</para>
	<para>
	  <mediaobject>
	    <imageobject>
	      <imagedata align="center" fileref="rdadmin.autofill_carts_dialog.png" scale="45"/>
	    </imageobject>
	    <caption>
	      <para>The Autofill Carts Dialog</para>
	    </caption>
	  </mediaobject>
	</para>
	<para>
	  Carts listed in this dialog will be considered for inclusion
	  in an event by RDLogManager when the event's
	  <computeroutput>Use Autofill</computeroutput> box is ticked.
	  When filling a gap, RDLogManager will recursively scan the list
	  of available carts, working from the longest to to shortest, and
	  insert the longest cart that will fit. The process will stop when
	  either the available gap has been completely filled or no cart
	  short enough to fit has been found.
	</para>
      </sect3>
      <sect3 xml:id="sect.rdadmin.manage_services.general.enabling_hosts_for_service_playout">
	<title>Enabling Hosts for Service Playout</title>
	<para>
	  The <computeroutput>Enable Hosts</computeroutput> button will bring
	  up the Hosts dialog, where the hosts for which this service is
	  allowed to be played can be defined
	</para>
	<para>
	  <mediaobject>
	    <imageobject>
	      <imagedata align="center" fileref="rdadmin.hosts_dialog.png" scale="45"/>
	    </imageobject>
	    <caption>
	      <para>The Hosts Dialog</para>
	    </caption>
	  </mediaobject>
	</para>
      </sect3>
    </sect2>
    <sect2 xml:id="sect.rdadmin.manage_services.traffic_music_data_importation_settings">
      <title>Traffic/Music Data Importation Settings</title>
      <para>
	With the exception of one field
	(<computeroutput>Insert Traffic Break String</computeroutput>),
	the <computeroutput>Traffic Data Import</computeroutput> and
	<computeroutput>Music Data Import</computeroutput> sections are
	identical. Thus, only the
	<computeroutput>Music Data Import</computeroutput> section will be
	described here.
      </para>
      <para>
	The upper part of the section consists of string fields and a dropdown
	box.
      </para>
      <para>
	<mediaobject>
	  <imageobject>
	    <imagedata align="center" fileref="rdadmin.log_importation_string_fields.png" scale="45"/>
	  </imageobject>
	  <caption>
	    <para>Log Importation String Fields</para>
	  </caption>
	</mediaobject>
      </para>
      <para>
	The <computeroutput>Linux Import Path</computeroutput> field takes
	the fully-qualified path to the file to be used for import events
	by RDLogManager when run on Linux. This field can take
	<link linkend="sect.filepath_wildcards.definition">
	filepath wildcards</link>.
      </para>
      <para>
	The <computeroutput>Linux Preimport Command</computeroutput> field
	takes the fully-qualified path to the command to be run before
	attempting to import the file specified in
	<computeroutput>Linux Import Path</computeroutput>. This field can take
	<link linkend="sect.filepath_wildcards.definition">
	filepath wildcards</link>.
      </para>
      <para>
	The <computeroutput>Windows Import Path</computeroutput> field takes
	the fully-qualified path to the file to be used for import events
	by RDLogManager when run on Windows. This field can take
	<link linkend="sect.filepath_wildcards.definition">
	filepath wildcards</link>.
      </para>
      <para>
	The <computeroutput>Windows Preimport Command</computeroutput> field
	takes the fully-qualified path to the command to be run before
	attempting to import the file specified in
	<computeroutput>Windows Import Path</computeroutput>. This field
	can take <link linkend="sect.filepath_wildcards.definition">
	filepath wildcards</link>.
      </para>
      <para>
	The <computeroutput>Note Cart String</computeroutput> field can
	be used	to configure placement of a marker event in the generated log.
	When the string set here is found in the 'cart' field in a line
	of the specified import file, RDLogManager will insert a marker
	event, the text of which will be the 'title' field from that same
	line.
      </para>
      <para>
	The <computeroutput>Insert Voice Track String</computeroutput>
	field can be used to configure placement of a voice track marker
	in the generated log. When the string set here is found in the
	'cart' field in a line of the specified import file, RDLogManager
	will insert a voice track event, the text of which will be the
	'title' field from that same line.
      </para>
      <para>
	The <computeroutput>Insert Traffic Break String</computeroutput>
	field can be used to configuration placement of a traffic break
	from an entry in the music import log. When the string set here is
	found in the cart field. RDLogManager will insert a traffic import
	event, using the event specified in the
	<computeroutput>Import inline traffic</computeroutput> dropdown box
	in the relevant music event.
      </para>
      <note>
	<para>
	  This field is available only in the
	  <computeroutput>Music Data Import</computeroutput> section!
	</para>
      </note>
    </sect2>
    <sect2 xml:id="sect.rdadmin.manage_services.traffic_music_import_parser_settings">
      <title>Traffic/Music Import Parser Settings</title>
      <para>
	<mediaobject>
	  <imageobject>
	    <imagedata align="center" fileref="rdadmin.import_parser_fields.png" scale="60"/>
	  </imageobject>
	  <caption>
	    <para>The Log Parser Settings</para>
	  </caption>
	</mediaobject>
      </para>
      <para>
	Rivendell includes the ability to import log schedule files from
	a variety of third-party scheduling utilities. To configure an import
	from one of these systems, all that is necessary is to select the
	appropriate system in the
	<computeroutput>Import Template</computeroutput> dropdown. If the
	target scheduler system is not on this list, a custom parser can
	be defined by selecting <computeroutput>[custom]</computeroutput>
	from the dropdown.
      </para>
      <para>
	Log schedule files for Rivendell are assumed to be in so-called
	&quot;column-aligned&quot; format --i.e. each record occupies a single
	line in a text file that is terminated by a single linefeed or a
	carriage return, with each field occupying
	a fixed	column position on the line. Each field takes two values:
	<computeroutput>Offset:</computeroutput>, which is the starting
	position of the field (starting from 0) on the line and
	<computeroutput>Length:</computeroutput>, which is the number of
	characters reserved for the field. Setting the
	<computeroutput>Length:</computeroutput> value for field to
	<userinput>0</userinput> disables the use of that field.
      </para>
      <para>
	Most of the fields should be self-explanatory, but a few call for
	some comment:
      </para>
      <variablelist>
	<varlistentry>
	  <term><computeroutput>Globally Unique ID</computeroutput></term>
	  <listitem>
	    <para>
	      Many schedulers provide
	      an opaque string with each scheduling record which they
	      expect to be returned as part of the corresponding Electronic
	      Log Reconciliation (ELR) feed back to the system. This field
	      indicates where this &quot;GUID&quot; string should be found.
	    </para>
	  </listitem>
	</varlistentry>
	<varlistentry>
	  <term><computeroutput>Event ID:</computeroutput> /
	  <computeroutput>Annc. Type</computeroutput></term>
	  <listitem>
	    <para>
	      Additional fields for GUID data. As of this writing, only
	      scheduler products from Marketron require the use of these
	      fields.
	    </para>
	  </listitem>
	</varlistentry>
      </variablelist>
    </sect2>
    <sect2 xml:id="sect.rdadmin.manage_services.testing_data_importation">
      <title>Testing Data Importation</title>
      <para>
	Once the parameters have been configured, they can be tested
	with a sample import file by touching the
	<computeroutput>Test Music</computeroutput> or
	<computeroutput>Test Music</computeroutput> buttons to bring up
	the Test Import dialog.
      </para>
      <para>
	<mediaobject>
	  <imageobject>
	    <imagedata align="center" fileref="rdadmin.test_import_dialog.png" scale="60"/>
	  </imageobject>
	  <caption>
	    <para>The Test Import Dialog</para>
	  </caption>
	</mediaobject>
      </para>
      <para>
	Select the date for the import to test, either by entering it in
	the <computeroutput>Test Date:</computeroutput> control or by
	touching the <computeroutput>Select</computeroutput> button. Then,
	touch the <computeroutput>Import</computeroutput> button. The import
	events for the day should appear in the
	<computeroutput>Imported Events</computeroutput> list.
      </para>
    </sect2>
  </sect1>
  <sect1 xml:id="sect.rdadmin.manage_hosts">
    <title>Managing Hosts</title>
    <para>
      To manage hosts in RDAdmin, touch the
      <computeroutput>Manage Hosts</computeroutput> button to open
      the Rivendell Host List dialog.
    </para>
      <para>
	<mediaobject>
	  <imageobject>
	    <imagedata align="center" fileref="rdadmin.rivendell_host_list_dialog.png" scale="60"/>
	  </imageobject>
	  <caption>
	    <para>The Rivendell Host List Dialog</para>
	  </caption>
	</mediaobject>
      </para>
    <para>
      To examine and modify an existing host, touch its entry in the
      <computeroutput>Hosts</computeroutput> list and then touch the
      <computeroutput>Edit</computeroutput> button to open the
      Host Dialog.
    </para>
    <para>
      <mediaobject>
	<imageobject>
	  <imagedata align="center" fileref="rdadmin.host_dialog.png" scale="50"/>
	</imageobject>
	<caption>
	  <para>The Host Dialog</para>
	</caption>
      </mediaobject>
    </para>
    <para>
      The dialog is divided into roughly two parts: the upper half, which
      contains settings that pertain to the selected host overall, and the
      lower half, which contains buttons that access settings specific to
      a particular Rivendell module or subsystem.
    </para>
    <para>
      The <computeroutput>Host Name:</computeroutput> (read-only),
      <computeroutput>Short Name:</computeroutput> and
      <computeroutput>Description:</computeroutput> fields are for
      text strings. The value of these fields is accessible using
      <link linkend="appendix.filepath_wildcards">filepath wildcards</link>.
    </para>
    <para>
      The <computeroutput>Default User</computeroutput> sets the value of
      the Rivendell user that will be logged in by default --i.e. when
      the system is restarted or the
      <computeroutput>Default User</computeroutput> button is touch in
      rdlogin(1).
    </para>
    <para>
      The <computeroutput>IP Address:</computeroutput> field should contain
      the IPv4 address of the host. For multi-homed systems, an address that
      is reachable from all other Rivendell hosts should be specified. If
      this host is the sole host in the Rivendell database, then it is
      acceptable to specify the loopback address
      (<userinput>127.0.0.1</userinput>) here.
    </para>
    <para>
      The <computeroutput>Editor Command:</computeroutput> can be used to
      specify an external audio editor for use by rdlibrary(1). If desired,
      the value should consist of the command invocation needed to start
      the edit, with a <userinput>%f</userinput> wildcard to indicate the
      name of the file to open.
    </para>
    <para>
      The <computeroutput>Time Offset:</computeroutput> field can be used
      to specify a static time offset in milliseconds to by applied to
      events in rdcatch(1).
    </para>
    <para>
      The <computeroutput>Startup Cart:</computeroutput> field takes the
      number of a macro cart to be executed each time the Rivendell system
      is restarted. This can be useful for initializing state --e.g. JACK
      routes, etc.
    </para>
    <para>
      The <computeroutput>Cue Output</computeroutput> controls specify the
      audio output to be used for off-line &quot;audition&quot; uses. The
      <computeroutput>Start Cart:</computeroutput> and
      <computeroutput>Stop Cart:</computeroutput> fields take the number
      of a macro cart that will be executed each time a cut play starts or
      stops, respectively (useful for things such as dimming control room
      audio monitors).
    </para>
    <para>
      If the <computeroutput>Enable Heartbeat</computeroutput> box is ticked,
      then the macro cart specified in the
      <computeroutput>Cart:</computeroutput> will be executed at the specified
      interval as a means to provide a system watchdog heartbeat.
    </para>
    <para>
      If the <computeroutput>Use Realtime Filtering</computeroutput> box is
      ticked, then the filter parameters when searching for carts will be
      applied after each keystroke or parameter change. If unticked, then
      the <computeroutput>Search</computeroutput> must be touched before
      altered filter parameters will be applied.
    </para>
    <para>
      If the <computeroutput>Include in System Maintenance Pool</computeroutput>
      box is ticked, than this host will be included in the pool of systems
      eligible to run automatic system maintenance routines in the background.
    </para>
    <para>
      This setting should normally be left ticked unless the host in question
      has a limited bandwidth connection to the Rivendell database or audio
      store --e.g. is remotely located from the Rivendell server.
    </para>
    <para>
      If the <computeroutput>Enable Drag &amp; Drop</computeroutput> box is
      unticked, then Rivendell's drag and drop system will be disabled. If
      ticked, then dropping carts on SoundPanels can be disabled by unticking
      the
      <computeroutput>Allow Drops on Panels not in Setup Mode</computeroutput>
      box.
    </para>
    <para>
      The <computeroutput>System Services</computeroutput> can be used
      to allow this host to use the
      <computeroutput>HTTP Xport:</computeroutput> or
      <computeroutput>Core Audio Engine</computeroutput> services of another
      host in the Rivendell network.
    </para>
    <sect2 xml:id="sect.rdadmin.manage_hosts.configuring_rdlibrary">
      <title>Configuring RDLibrary</title>
      <para>
	To configure the rdlibrary(1) module, touch the
	<computeroutput>RDLibrary</computeroutput> button to open the
	Configure RDLibrary dialog.
      </para>
      <para>
	<mediaobject>
	  <imageobject>
	    <imagedata align="center" fileref="rdadmin.configure_rdlibrary_dialog.png" scale="60"/>
	  </imageobject>
	  <caption>
	    <para>The Configure RDLibrary Dialog</para>
	  </caption>
	</mediaobject>
      </para>
      <para>
	The <computeroutput>INPUT</computeroutput> and
	<computeroutput>OUTPUT</computeroutput> are used to specify
	the audio input and output to be used.
      </para>
      <para>
	The <computeroutput>Max Record Time</computeroutput> field sets
	the maximum time that rdlibrary(1)'s Record widget will run in
	record mode; when this time is reached, it will be automatically
	stopped. To allow an unlimited record duration, set this to
	<userinput>00:00:00</userinput>.
      </para>
      <para>
	The <computeroutput>VOX Threshold</computeroutput> control sets
	audio level at which to automatically begin recording when the
	<computeroutput>Record Mode</computeroutput> control is set to
	<computeroutput>VOX</computeroutput> in the Record dialog.
      </para>
      <para>
	The <computeroutput>AutoTrim Threshold</computeroutput> control sets
	audio level at which to trim the ends of the recorded audio when the
	<computeroutput>AutoTrim</computeroutput> control is set to
	<computeroutput>On</computeroutput> in the Record dialog.
      </para>
      <para>
	The <computeroutput>Tail Preroll</computeroutput> control sets
	how far before an end marker the audio cursor will be positioned
	when auditioning a marker edit.
      </para>
      <para>
	The <computeroutput>Ripper Device</computeroutput> field specifies
	the CD-ROM device to be used for ripping audio CDs.
      </para>
      <para>
	The <computeroutput>Paranoia Level</computeroutput> dropdown
	specifies the amount of error checking/recovery to be applied
	when ripping CDs, with <computeroutput>Normal</computeroutput> being
	the maximum amount. With modern CD-ROM hardware, it is often possible
	to obtain significantly faster ripper performance by setting this
	control to <computeroutput>Low</computeroutput> or even
	<computeroutput>None</computeroutput>.
      </para>
      <para>
	For further information on the <computeroutput>Low</computeroutput>
	and <computeroutput>None</computeroutput> options, see the
	'-Y' and '-Z' options in the cdparanoia(1) man page or 
	<link linkend="https://linux.die.net/man/1/cdparanoia">https://linux.die.net/man/1/cdparanoia</link>.
      </para>
      <para>
	The <computeroutput>Read ISRC from CD:</computeroutput> dropdown
	controls whether the ripper will attempt to read International
	Standard Recording Code data from audio tracks when loading the disc.
	Setting this
	to <computeroutput>Yes</computeroutput> can cause CD-ROM drives
	to take signficantly longer to read the table of contents of
	newly inserted discs when the disc does not contain ISRC data.
      </para>
      <para>
	The <computeroutput>FreeDB Server:</computeroutput> field takes the
	URL of the server to be used for doing FreeDB lookups for CDs by
	the CD ripper.
      </para>
      <para>
	The <computeroutput>Format:</computeroutput> dropdown indicates the
	audio encoding format to be used in Rivendell's audio store for
	ingested material.
      </para>
      <para>
	The <computeroutput>Bitrate:</computeroutput> dropdown indicates
	the bitrate to be used when encoding ingested material to
	<computeroutput>MPEG Layer 2</computeroutput>.
      </para>
      <para>
	If set to <computeroutput>Yes</computeroutput>, the
	<computeroutput>Allow External Editing</computeroutput> dropdown
	will cause an <computeroutput>Edit Audio</computeroutput> button
	to be displayed when editing audio carts.
      </para>
      <para>
	The <computeroutput>Sample Rate Converter:</computeroutput> dropdown
	controls which algorithm will be used when resampling ingested audio
	to a different sample rate. For more information regarding the various
	algorithms available, see
	<link linkend="http://mega-nerd.com/SRC/api_misc.html#Converters">
	  http://mega-nerd.com/SRC/api_misc.html#Converters</link>.
      </para>
      <para>
	When ticked, the <computeroutput>Limit Searchs at Startup
	</computeroutput> box will cause the
	<computeroutput>Show Only First 100 Matches</computeroutput> box
	to be ticked when starting a new instance of rdlibrary(1).
      </para>
      <para>
	The <computeroutput>Channels:</computeroutput> dropdown sets the
	default value of the <computeroutput>Channels:</computeroutput>
	dropdowns in rdlibrary(1).
      </para>
      <para>
	The<computeroutput>Record Mode</computeroutput> and
	<computeroutput>AutoTrim</computeroutput> dropdowns set the
	default value of the respective dropdowns in the Record dialog.
      </para>
      <para>
	The <computeroutput>Normalization Level:</computeroutput> control
	sets the default value of the
	<computeroutput>Normalization Level:</computeroutput> controls in
	rdlibrary(1).
      </para>
    </sect2>
  </sect1>
</chapter>
